<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Pilpres2014 Watchdogs for Honest Democracy</title>
    <link rel="stylesheet" href="app.css" type="text/css" />
    <script src="Scripts/jquery-2.1.1.min.js"></script>
    <script src="Scripts/knockout-3.1.0.js"></script>
    <script src="app.js"></script>
</head>
<body>
    <div class="pageTitle">Pilpres 2014 - Real Count</div>
    <div><span class="caption">last update: 7/17/2014 9am PST</span></div>
    <div><span class="caption">source: <a href="http://pilpres2014.kpu.go.id/da1.php">pilpres2014.KPU.go.id</a></span></div>
    <div><span class="caption">contact us: <a href="mailto:pilpres2014@outlook.com">pilpres2014</a></span></div>
    <hr/>

    <table>
        <thead>
            <tr>
                <th style="width:50%" class="candidate1">Prabowo Subianto - Hatta Rajasa</th>
                <th class="candidate2">Joko Widodo-Jusuf Kalla</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <span class="score" data-bind="text:percentageVotes1"></span>
                </td>
                <td>
                    <span class="score" data-bind="text:percentageVotes2"></span>
                </td>
            </tr>
            <tr>
                <td><span data-bind="text:totalVotes1"></span></td>
                <td><span data-bind="text:totalVotes2"></span></td>
            </tr>
        </tbody>
    </table>
    
    <hr/>    
    <h3>Historical Data:</h3>

    <!-- ko foreach:historicalFeeds -->
    <div>
        <a href="#" data-bind="click:$root.updateVoteByDate,text:datetime"></a><span class="caption">&nbsp;PST</span>
        <a data-bind="attr:{href:url + datetime + '.csv'}">complete</a>
        |
        <a data-bind="attr:{href:url + datetime + '-total.json'}">national</a>
        |
        <a data-bind="attr:{href:url + datetime + '-province.json'}">province</a>
        |
        <a data-bind="attr:{href:url + datetime + '-kabupaten.json'}">kabupaten</a>
    </div>
    <!-- /ko -->
    <div>
        <span class="caption">The data is obtained by automatic crawling http://pilpres2014.kpu.go.id periodically and updated every 6-12 hours.</span>
    </div>
    <div>
        <span class="caption">The source-code is shared in <a href="https://github.com/ht4n/Pilpres2014">Pilpres2014 GitHub</a> under APACHE 2.0 license.</span>
    </div>
    <hr />

    <a href="#" data-bind="click:toggleProvinceDetails,text:toggleProvinceText">Show Details</a>
    <hr />
    <!-- ko if:showProvinceDetails -->
    <table>
        <thead>
            <tr>
                <th>Province</th>
                <th>Prabowo-Hatta(%)</th>
                <th>Jokowi-Kalla(%)</th>
            </tr>
        </thead>
        <tbody>
            <!-- ko foreach:voteEntries -->
            <tr>
                <td><span data-bind="text:label"></span></td>
                <td><span data-bind="text:counter1Percentage,css:{win:counter1Percentage() > 50.0,lose:counter1Percentage() < 50.0}"></span></td>
                <td><span data-bind="text:counter2Percentage,css:{win:counter2Percentage() > 50.0,lose:counter2Percentage() < 50.0}"></span></td>
            </tr>
            <!-- /ko -->
        </tbody>
    </table>
    <!-- /ko -->
</body>
</html>
